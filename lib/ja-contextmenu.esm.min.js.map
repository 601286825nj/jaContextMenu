{"version":3,"file":"ja-contextmenu.esm.min.js","sources":["../src/config.ts","../src/utils/h.ts","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/style.ts","../src/Menu.ts","../src/ContextMenu.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["config","h","tag","attrs","children","tagMatch","match","Error","tagStr","id","classArr","Array","from","map","it","substring","elem","document","createElement","isArray","attr","v","key","classList","concat","filter","Boolean","textContent","String","length","add","forEach","child","HTMLElement","appendChild","console","error","_storeWindowSize","getWindowSize","html","querySelector","innerWidth","innerHeight","window","clientWidth","clientHeight","htmlEl","sW","sH","cW","cH","dealBaseAttr","data","payload","injectCss","cssId","styleString","style","getElementById","innerHTML","titleTag","head","insertBefore","nextElementSibling","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liDisabled","disabled","liClassList","class","push","show","iconEl","icon","src","display","onclick","e","stay","_a","call","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","customItem","label","tip","width","childMenu","Menu","childMenuEle","target","contains","remove","body","prepareMenuShow","calcPosition","height","childMenuHeight","childMenuWidth","getBoundingClientRect","liPosition","parentWidth","childWidth","x","y","log","windowSize","maxHeight","top","left","removeChildMenus","_b","removeItemHover","PanelPositionEnum","Panel","panelOption","TypeError","createEl","zIndex","position","eventListenerCb","preventDefault","stopPropagation","MouseEvent","transform","RIGHT","BOTTOM","LEFT","TOP","hide","destroy","removeEventListener","menuOption","super","Math","random","toString","slice","createUl","ul","oncontextmenu","updateMenuAttr","dataset","jaMenuId","lv","className","renderMenuItem","items","menuItemEl","lastChild","menuItem","removeAllHover","p","res","scrollX","scrollY","closeMenus","querySelectorAll","menu","childItem","undefined","ContextMenu","option","storeMenus","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","clickEventFunc","bind","capture","isInside","parentElement","hideAllMenu","create","mainMenu","showMenu","createAsync"],"mappings":"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"}