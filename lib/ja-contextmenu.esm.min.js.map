{"version":3,"file":"ja-contextmenu.esm.min.js","sources":["../src/config.ts","../src/utils/h.ts","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/style.ts","../src/Menu.ts","../src/ContextMenu.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["config","h","tag","attrs","children","tagMatch","match","Error","tagStr","id","classArr","Array","from","map","it","substring","elem","document","createElement","isArray","attr","v","key","classList","concat","filter","Boolean","textContent","String","length","add","forEach","child","HTMLElement","appendChild","console","error","_storeWindowSize","getWindowSize","html","querySelector","innerWidth","innerHeight","window","clientWidth","clientHeight","htmlEl","sW","sH","cW","cH","dealBaseAttr","data","payload","injectCss","cssId","styleString","style","getElementById","innerHTML","titleTag","head","insertBefore","nextElementSibling","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liDisabled","disabled","liClassList","class","push","show","iconEl","icon","src","display","onclick","e","stay","_a","call","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","customItem","label","tip","width","childMenu","Menu","childMenuEle","target","contains","remove","body","prepareMenuShow","calcPosition","height","childMenuHeight","getBoundingClientRect","liPosition","parentWidth","childWidth","x","y","windowSize","maxHeight","top","left","removeChildMenus","_b","removeItemHover","PanelPositionEnum","Panel","panelOption","TypeError","createEl","zIndex","position","eventListenerCb","preventDefault","stopPropagation","MouseEvent","transform","RIGHT","BOTTOM","LEFT","TOP","hide","destroy","removeEventListener","menuOption","super","Math","random","toString","slice","createUl","ul","oncontextmenu","updateMenuAttr","dataset","jaMenuId","lv","className","renderMenuItem","items","menuItemEl","lastChild","menuItem","removeAllHover","p","res","scrollX","scrollY","closeMenus","querySelectorAll","menu","childItem","undefined","ContextMenu","option","storeMenus","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","clickEventFunc","bind","capture","isInside","parentElement","hideAllMenu","create","mainMenu","showMenu","createAsync"],"mappings":"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"}