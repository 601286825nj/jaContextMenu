{"version":3,"file":"ja-contextmenu.esm.min.js","sources":["../src/config.ts","../src/utils/h.ts","../src/utils/utils.ts","../src/MenuItem.ts","../src/style.ts","../src/Panel.ts","../src/Menu.ts","../src/ContextMenu.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["config","h","tag","attrs","children","tagMatch","match","Error","tagStr","id","classArr","Array","from","map","it","substring","elem","document","createElement","isArray","attr","v","key","classList","concat","filter","Boolean","textContent","String","length","add","forEach","child","HTMLElement","appendChild","console","error","_storeWindowSize","getWindowSize","html","querySelector","innerWidth","innerHeight","window","clientWidth","clientHeight","htmlEl","scrollWidth","scrollHeight","dealBaseAttr","data","payload","injectCss","cssId","styleString","style","getElementById","innerHTML","titleTag","head","insertBefore","nextElementSibling","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liDisabled","disabled","liClassList","class","push","show","iconEl","icon","src","display","onclick","e","stay","_a","call","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","customItem","label","tip","width","childMenu","Menu","childMenuEle","target","contains","remove","prepareMenuShow","calcPosition","childMenuHeight","getBoundingClientRect","height","liPosition","parentWidth","childWidth","translateX","translateY","windowSize","x","y","transform","removeChildMenus","_b","removeItemHover","panelStyle","contextMenuStyle","Panel","panelOption","TypeError","createEl","zIndex","position","eventListenerCb","preventDefault","stopPropagation","MouseEvent","hide","destroy","removeEventListener","menuOption","super","createUl","ul","dataset","lv","oncontextmenu","updateMenuAttr","className","renderMenuItem","items","menuItemEl","lastChild","menuItem","removeAllHover","scrollX","scrollY","childItem","querySelectorAll","menu","undefined","ContextMenu","option","storeMenus","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","clickEventFunc","bind","capture","isInside","parentElement","hideAllMenu","create","mainMenu","body","showMenu","createAsync"],"mappings":"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"}