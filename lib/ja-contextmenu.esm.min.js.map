{"version":3,"file":"ja-contextmenu.esm.min.js","sources":["../src/config.ts","../src/utils/h.ts","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/Menu.ts","../src/style.ts","../src/ContextMenu.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["config","h","tag","attrs","children","tagMatch","match","Error","tagStr","id","classArr","Array","from","map","it","substring","elem","document","createElement","isArray","attr","v","key","classList","concat","filter","Boolean","textContent","String","length","add","forEach","child","HTMLElement","appendChild","console","error","_storeWindowSize","getWindowSize","html","querySelector","innerWidth","innerHeight","window","clientWidth","clientHeight","htmlEl","scrollWidth","scrollHeight","dealBaseAttr","data","payload","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liDisabled","disabled","liClassList","class","push","show","undefined","iconEl","icon","src","style","display","onclick","e","stay","_a","call","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","customItem","label","tip","width","childMenu","Menu","childMenuEle","target","contains","prepareMenuShow","calcPosition","childMenuHeight","getBoundingClientRect","height","liPosition","translateX","translateY","windowSize","x","y","transform","removeChildMenus","_b","removeItemHover","Panel","panelOption","TypeError","createEl","zIndex","position","eventListenerCb","preventDefault","stopPropagation","MouseEvent","hide","destroy","removeEventListener","remove","menuOption","super","createUl","ul","dataset","lv","oncontextmenu","updateMenuAttr","className","renderMenuItem","items","menuItemEl","lastChild","menuItem","removeAllHover","scrollX","scrollY","childItem","querySelectorAll","menu","panelStyle","contextMenuStyle","ContextMenu","option","storeMenus","injectCss","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","titleTag","innerHTML","head","insertBefore","nextElementSibling","clickEventFunc","bind","capture","isInside","parentElement","hideAllMenu","create","mainMenu","body","showMenu"],"mappings":"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"}