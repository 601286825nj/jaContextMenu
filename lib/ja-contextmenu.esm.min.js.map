{"version":3,"file":"ja-contextmenu.esm.min.js","sources":["../src/utils/h.ts","../src/config.ts","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/Menu.ts","../src/style.ts","../src/ContextMenu.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["h","tag","attrs","children","id","match","classArr","map","it","substring","elem","document","createElement","Array","isArray","attr","key","concat","textContent","String","classList","add","forEach","child","HTMLElement","appendChild","console","error","config","_storeWindowSize","getWindowSize","html","querySelector","ss","htmlEl","scrollWidth","window","innerWidth","clientWidth","scrollHeight","innerHeight","clientHeight","dealBastAttr","data","payload","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liClassList","liDisabled","disabled","push","className","class","onclick","e","_a","call","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","icon","src","customItem","label","tip","width","childMenu","Menu","childMenuEle","target","contains","style","display","show","calcPosition","childMenuHeight","parseFloat","getComputedStyle","height","liPosition","getBoundingClientRect","translateX","translateY","windowSize","x","y","transform","removeChildMenus","_b","removeItemHover","Panel","panelOption","createEl","zIndex","position","eventListenerCb","preventDefault","stopPropagation","MouseEvent","hide","destroy","removeEventListener","remove","menuOption","super","createUl","ul","dataset","lv","oncontextmenu","updateMenuAttr","renderMenuItem","items","menuItemEl","lastChild","removeAllHover","scrollX","scrollY","childItem","querySelectorAll","menu","panelStyle","contextMenuStyle","ContextMenu","option","storeMenus","injectCss","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","titleTag","innerHTML","head","insertBefore","nextElementSibling","clickEventFunc","some","hideAllMenu","capture","create","mainMenu","body","showMenu","i","length","filter","Boolean"],"mappings":"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"}