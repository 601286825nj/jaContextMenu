{"version":3,"file":"ja-contextmenu.esm.min.js","sources":["../src/config.ts","../src/utils/h.ts","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/style.ts","../src/Menu.ts","../src/ContextMenu.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["config","h","tag","attrs","children","tagMatch","match","Error","tagStr","id","classArr","Array","from","map","it","substring","elem","document","createElement","isArray","attr","v","key","classList","concat","filter","Boolean","textContent","String","length","add","forEach","child","HTMLElement","appendChild","console","error","_storeWindowSize","getWindowSize","html","querySelector","innerWidth","innerHeight","window","clientWidth","clientHeight","htmlEl","sW","sH","cW","cH","dealBaseAttr","data","payload","injectCss","cssId","styleString","style","getElementById","innerHTML","titleTag","head","insertBefore","nextElementSibling","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liDisabled","disabled","liClassList","class","push","show","iconEl","icon","src","display","onclick","e","stay","_a","call","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","customItem","label","tip","width","childMenu","Menu","childMenuEle","target","contains","remove","prepareMenuShow","calcPosition","childMenuHeight","getBoundingClientRect","height","liPosition","parentWidth","childWidth","translateX","translateY","windowSize","x","y","transform","removeChildMenus","_b","removeItemHover","PanelPositionEnum","Panel","panelOption","TypeError","createEl","zIndex","position","eventListenerCb","preventDefault","stopPropagation","MouseEvent","RIGHT","BOTTOM","LEFT","TOP","hide","destroy","removeEventListener","menuOption","super","createUl","ul","dataset","lv","oncontextmenu","updateMenuAttr","className","renderMenuItem","items","menuItemEl","lastChild","menuItem","removeAllHover","p","res","scrollX","scrollY","childItem","querySelectorAll","menu","undefined","ContextMenu","option","storeMenus","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","clickEventFunc","bind","capture","isInside","parentElement","hideAllMenu","create","mainMenu","body","showMenu","createAsync"],"mappings":"AAAA,IAAeA,EACD,eADCA,EAEF,qBAFEA,EAGD,WAHCA,EAIC,iBAJDA,EAMP,IANOA,EAQN,GARMA,EAUC,EAVDA,EAYP,ICQgB,SAAAC,EAAEC,EAAaC,EAAiDC,GAEtF,MAAMC,EAAWH,EAAII,MAAM,YAC3B,IAAKD,EAAU,MAAM,IAAIE,MAAM,eAC/B,MAAMC,EAASH,EAAS,GAGlBI,EAAKP,EAAII,MAAM,cAErB,IAAII,EAAqBR,EAAII,MAAM,iBAAmB,GACtDI,EAAWC,MAAMC,KAAKF,GAAUG,KAAIC,GAAMA,EAAGC,UAAU,KAEvD,MAAMC,EAAYC,SAASC,cAAcV,GAGzC,GAFIC,IAAIO,EAAKP,GAAKA,EAAG,GAAGM,UAAU,IAE9BJ,MAAMQ,QAAQhB,GAChBC,EAAWD,OACN,GAAqB,iBAAVA,GAAgC,OAAVA,EACtC,IAAK,MAAMiB,KAAQjB,EACjB,GAAa,UAATiB,GAA6B,YAATA,EAAoB,CAI1C,MAAMC,EAAIlB,EAAMiB,GAChB,IAAK,MAAME,KAAOD,EAEhBL,EAAKI,GAAME,GAAOD,EAAEC,EAEvB,KAAmB,cAATF,GAAwBT,MAAMQ,QAAQhB,EAAMoB,WACrDb,EAAWA,EAASc,OAAOrB,EAAMoB,UAAUE,OAAOC,UAElDV,EAAKI,GAAQjB,EAAMiB,OAGG,iBAAVjB,GAAuC,iBAAVA,IAC7Ca,EAAKW,YAAcC,OAAOzB,IAc5B,OAXIO,EAASmB,QAAQb,EAAKO,UAAUO,OAAOpB,GAEvCN,GACFA,EAAS2B,SAAQC,IACVA,IAEDA,aAAiBC,YAAajB,EAAKkB,YAAYF,GAC9CG,QAAQC,MAAMJ,EAAO,+BAA8B,IAIrDhB,CACT,CCvDA,IAAIqB,WAEYC,IACd,MAAMC,EAAOtB,SAASuB,cAAc,SAC9BC,WAAEA,EAAUC,YAAEA,GAAgBC,QAC9BC,YAAEA,EAAWC,aAAEA,GAAiBN,EAQtC,OAPAF,EAAmB,CACjBS,OAAQP,EACRQ,GAAIN,EAAaG,EACjBI,GAAIN,EAAcG,EAClBI,GAAIL,EACJM,GAAIL,GAECR,CACT,CAWgB,SAAAc,EAA+CC,EAASC,GACtE,MAAuB,mBAATD,EAAsBA,EAAKC,GAAWD,GAAQ,EAC9D,CAKgB,SAAAE,EAAUC,EAAeC,GACvC,IAAIC,EAAQxC,SAASyC,eAAeH,GACpC,IAAKE,EAAO,CAEVA,EAAQxD,EAAE,SAASsD,IAAS,CAC1BI,UAAWH,IAEb,MAAMI,EAAW3C,SAASuB,cAAc,cACpCoB,EACF3C,SAAS4C,KAAKC,aAAaL,EAAOG,EAASG,oBAE3C9C,SAAS4C,KAAK3B,YAAYuB,EAE7B,CACH,CA9BAnB,IACAK,OAAOqB,iBAAiB,UAAU,KAChC1B,GAAe,ICzBH,MAAO2B,EAOnBC,YAAYC,EAAeC,EAAyBC,GAElDC,KAAKD,WAAaA,EAClBC,KAAKH,MAAQA,EACbG,KAAKC,WAAaH,EAClBE,KAAKE,MACN,CACDA,OACE,MAAMJ,EAAOE,KAAKC,WAClB,GAAkB,OAAdH,EAAKK,MAA+B,QAAdL,EAAKK,KAC7BH,KAAKI,GAAKzE,EAAE,iBACP,CACL,MAAM0E,EAAaxB,EAAaiB,EAAKQ,SAAUN,KAAKD,WAAWhB,SACzDwB,EAAc,CAAC1B,EAAaiB,EAAKU,MAAOR,KAAKD,WAAWhB,UAC1DsB,GAAYE,EAAYE,KAAK,YACjC,MAAMC,OAAqB,IAAdZ,EAAKY,MAAyB7B,EAAaiB,EAAKY,KAAMV,KAAKD,WAAWhB,SAEnF,IAAI4B,EACJ,GAAIb,EAAKc,KAAM,CACb,MAAMA,EAAO/B,EAAaiB,EAAKc,KAAMZ,KAAKD,WAAWhB,SACrD4B,EAASC,aAAgBjD,YAAchC,EAAE,qBAAsB,CAACiF,IAASjF,EAAE,qBAAsB,CAAEkF,IAAKD,GACzG,CACDZ,KAAKI,GAAKzE,EACR,KACA,CACEwD,MAAO,CACL2B,QAASJ,EAAO,GAAK,QAEvBzD,UAAWsD,EACXQ,QAASC,UACP,IAAKX,EAAY,CACf,MAAMY,EAAmB,QAAZC,EAAApB,EAAKiB,eAAO,IAAAG,OAAA,EAAAA,EAAAC,KAAArB,EAAGkB,EAAGhB,KAAKD,WAAWhB,SAC1Ce,EAAKhE,UAAamF,GAAMjB,KAAKD,WAAWqB,eAC9C,GAKHC,aAAcvB,EAAKhE,SACfkF,IACEhB,KAAKsB,cAAcN,EAAE,EAEvB,KACEhB,KAAKuB,oBAAoB,GAGjC,CACEZ,EACAb,EAAK0B,YACH7F,EAAE,uBAAwB,CACxB0B,YAAawB,EAAaiB,EAAK2B,MAAOzB,KAAKD,WAAWhB,WAE1De,EAAK4B,KAAO/F,EAAE,qBAAsBkD,EAAaiB,EAAK4B,IAAK1B,KAAKD,WAAWhB,UAC3Ee,EAAKhE,UAAYH,EAAE,qBAGxB,CACGmE,EAAKhE,WAEFgE,EAAKhE,SAAS6F,QAAO7B,EAAKhE,SAAS6F,MAAQ3B,KAAKD,WAAW4B,OAChE3B,KAAK4B,UAAY,IAAIC,EAAK7B,KAAKH,MAAQ,EAAGC,EAAKhE,UAElD,CAIDwF,cAAcN,GACZ,MAAMc,EAAe9B,KAAK4B,UAAUxB,GAE9BY,EAAEe,OAAuBC,SAASF,KACrCd,EAAEe,OAAuB9E,UAAUO,IAAI9B,EAAsB,UAC9DoG,EAAa7E,UAAUgF,OAAO,SAEhCjC,KAAKI,GAAGxC,YAAYkE,GACpB9B,KAAK4B,UAAU7C,QAAUiB,KAAKD,WAAWhB,QACzCiB,KAAK4B,UAAUM,gBAAgBlC,KAAK4B,UAAU7C,SAC9CiB,KAAKmC,cACN,CAEDA,eACE,MAAML,EAAe9B,KAAK4B,UAAUxB,GAC9BgC,EAAkBN,EAAaO,wBAAwBC,OACvDC,EAAavC,KAAKI,GAAGiC,wBACrBG,EAAcxC,KAAKD,WAAW4B,OAASjG,EACvC+G,EAAazC,KAAK4B,UAAUD,OAASjG,EAC3C,IAAIgH,EAAaF,EAAc,EAC3BG,GAAc,EAEdC,EAAWjE,GAAK4D,EAAWM,EAAIL,EAAcA,IAC/CE,EAA2B,EAAbD,GAGZG,EAAWhE,GAAK2D,EAAWO,EAAI,EAAIV,IACrCO,GAAcP,EAAkB1G,EAAe,EAAI,GAGrDoG,EAAa3C,MAAM4D,UAAY,aAAaL,QAAiBC,MAE9D,CACDpB,6BACmB,QAAjBL,EAAAlB,KAAKD,kBAAY,IAAAmB,GAAAA,EAAA8B,mBACA,QAAjBC,EAAAjD,KAAKD,kBAAY,IAAAkD,GAAAA,EAAAC,iBAClB,ECrGH,IAAYC,GAAZ,SAAYA,GACVA,EAAA,IAAA,MACAA,EAAA,OAAA,SACAA,EAAA,KAAA,OACAA,EAAA,MAAA,OACD,CALD,CAAYA,IAAAA,EAKX,CAAA,IAMa,MAAOC,EAQnBxD,YAAYyD,WAGV,GANFrD,KAAMsC,OAAG,EAIPtC,KAAKqD,YAAcA,EACnBrD,KAAK2B,MAA0B,QAAlBT,EAAAlB,KAAKqD,mBAAa,IAAAnC,OAAA,EAAAA,EAAAS,MACQ,iBAAZ,QAAhBsB,EAAAjD,KAAKqD,mBAAW,IAAAJ,OAAA,EAAAA,EAAEtB,OAC3B,MAAM,IAAI2B,UAAU,uBAEtBtE,EAAUtD,ECvCkB,QAC3BA,OAAuBA,+CAGvBA,0KAMUA,eAEVA,sCD4BDsE,KAAKuD,WACLvD,KAAKN,kBACN,CAED6D,mBACEvD,KAAKI,GAAKzE,EAAE,OAAOD,IAAqB,CACtCyD,MAAO,CACLwC,MAAO3B,KAAK2B,MAAQ3B,KAAK2B,MAAQ,UAAO,EACxC6B,eAAQtC,EAAAlB,KAAKqD,kCAAaG,OAC1BC,iBAAUR,EAAAjD,KAAKqD,kCAAaI,UAE9BxG,UAAW,CAAC,SAEf,CAEOyC,2BACC,QAAPwB,EAAAlB,KAAKI,UAAE,IAAAc,GAAAA,EAAExB,iBAAiB,QAASM,KAAK0D,iBACjC,QAAPT,EAAAjD,KAAKI,UAAE,IAAA6C,GAAAA,EAAEvD,iBAAiB,cAAeM,KAAK0D,gBAC/C,CAEOA,gBAAgB1C,GACtBA,EAAE2C,iBACF3C,EAAE4C,iBACH,CAIDlD,KAAKM,GACCA,aAAa6C,aACf7C,EAAE2C,iBACF3C,EAAE4C,mBAEJ5D,KAAKI,GAAGnD,UAAUgF,OAAO,QACzB,MAAMY,EAAEA,EAACC,EAAEA,EAACW,SAAEA,GAAazD,KAAKmC,aAAanB,GAE7C,OADAhB,KAAKI,GAAGjB,MAAM4D,UAAY,aAAaF,OAAOC,OACvC,CACLW,WAEH,CAIDtB,aAAanB,SACX,MAAMsB,OAAEA,EAAMX,MAAEA,GAAU3B,KAAKI,GAAGiC,wBAClCrC,KAAKsC,OAASA,EACdtC,KAAK2B,MAAQA,EACb,IAAIkB,EAAEA,EAACC,EAAEA,GAAM9B,EACf,MAAMyC,EAAmD,CAACN,EAAkBW,MAAOX,EAAkBY,QAiCrG,OAhC2B,KAAX,UAAZ/C,EAAEyC,gBAAU,IAAAvC,OAAA,EAAAA,EAAA3D,UACdkG,EAAS,GAAKzC,EAAEyC,SAAS,GACzBA,EAAS,GAAKzC,EAAEyC,SAAS,IAEvBA,EAAS,KAAON,EAAkBa,MAEhCnB,EAAIlB,IACNkB,GAAQlB,EACR8B,EAAS,GAAKN,EAAkBW,OAGhCL,EAAS,KAAON,EAAkBW,OAEhClB,EAAWjE,GAAKkE,EAAIlB,IACtBkB,EAAID,EAAWjE,GAAKgD,EACpB8B,EAAS,GAAKN,EAAkBa,MAGhCP,EAAS,KAAON,EAAkBc,KAEhCnB,EAAIR,IACNQ,GAAQR,EACRmB,EAAS,GAAKN,EAAkBY,QAGhCN,EAAS,KAAON,EAAkBY,QAEhCnB,EAAWhE,GAAKkE,EAAIR,GAAUQ,GAAKR,IACrCQ,GAAQR,EACRmB,EAAS,GAAKN,EAAkBc,KAG7B,CAAEpB,IAAGC,IAAGW,WAChB,CAIDS,OACElE,KAAKI,GAAGnD,UAAUO,IAAI,OACvB,CAED2G,UACEnE,KAAKI,GAAGgE,oBAAoB,QAASpE,KAAK0D,iBAC1C1D,KAAKI,GAAGgE,oBAAoB,cAAepE,KAAK0D,iBAChD1D,KAAKI,GAAG6B,QACT,EE5HkB,MAAAJ,UAAsBuB,EAUzCxD,YAAYC,EAAewE,GACzBC,MAAMD,GALRrE,KAAQlE,SAAwB,GAO9BkE,KAAKqE,WAAaA,EAClBrE,KAAKH,MAAQA,EACbG,KAAKuE,UAEN,CACDA,iBACEvE,KAAKwE,GAAK7I,EAAE,KAAM,CAChBsB,UAAW,CAACvB,EAAqB,GAAGA,OAAyBsE,KAAKH,SAClE4E,QAAS,CACPC,GAAI1E,KAAKH,OAEXkB,QAASC,GAAKA,EAAE4C,kBAChBe,cAAe3D,IACbA,EAAE4C,kBACF5C,EAAE2C,gBAAgB,IAGb,QAATzC,EAAAlB,KAAKI,UAAI,IAAAc,GAAAA,EAAAtD,YAAYoC,KAAKwE,GAC3B,CACDI,uBACE5E,KAAKwE,GAAGK,UAAY,GAAGnJ,KAAuBA,OAAyBsE,KAAKH,SAAShB,EAA4B,QAAfqC,EAAAlB,KAAKqE,kBAAU,IAAAnD,OAAA,EAAAA,EAAEV,MAAOR,KAAKjB,UAChI,CACD+F,yBACE,IAAKzI,MAAMQ,QAAuB,QAAfqE,EAAAlB,KAAKqE,kBAAU,IAAAnD,OAAA,EAAAA,EAAE6D,OAClC,OAAOlH,QAAQC,MAAM,qCAIvB,IAAIkH,EACJ,IAHAhF,KAAKlE,SAAW,GAGRkJ,EAAahF,KAAKwE,GAAGS,WAC3BD,EAAW/C,SAEb,GAAoB,QAAfgB,EAAAjD,KAAKqE,kBAAU,IAAApB,OAAA,EAAAA,EAAE8B,MAEtB,IAAK,MAAMvI,KAAMwD,KAAKqE,WAAWU,MAAO,CACtC,MAAMG,EAAW,IAAIvF,EAASK,KAAKH,MAAOrD,EAAIwD,MAC9CA,KAAKlE,SAAS2E,KAAKyE,GACnBlF,KAAKwE,GAAG5G,YAAYsH,EAAS9E,GAC9B,CACF,CAIDM,KAAKM,EAAiCjC,GAEpC,OADAiB,KAAKkC,gBAAgBnD,GACduF,MAAM5D,KAAKM,EACnB,CAMDkB,gBAAgBnD,GACdiB,KAAKjB,QAAUA,EACfiB,KAAKmF,iBACLnF,KAAKgD,mBACLhD,KAAK4E,iBACL5E,KAAK8E,gBACN,CAMD3C,gBAAgBiD,SACd,MAAMC,EAAMf,MAAMnC,gBAAgBiD,GAClC,IAAIvC,EAAEA,EAACC,EAAEA,GAAMuC,EAMf,OAJmB,IAAfrF,KAAKH,OAA8C,WAAf,QAAhBqB,EAAAlB,KAAKqD,mBAAW,IAAAnC,OAAA,EAAAA,EAAEuC,YACxCZ,GAAKxE,OAAOiH,QACZxC,GAAKzE,OAAOkH,SAEP,CAAE1C,IAAGC,IAAGW,SAAU4B,EAAI5B,SAC9B,CAED0B,iBACEnF,KAAKlE,SAAS2B,SAAQqC,IACpBA,EAAKM,GAAGnD,UAAUgF,OAAO,GAAGvG,UAA4B,GAE3D,CAIDsH,mBACEhD,KAAKlE,SAAS2B,SAAQqC,YACF,QAAlBmD,UAAA/B,EAAApB,EAAK8B,gCAAWxB,UAAE,IAAA6C,GAAAA,EAAEhB,QAAQ,GAE/B,CAKDiB,kBACElD,KAAKlE,SAAS2B,SAAQ+H,IACpBA,EAAUpF,GAAGnD,UAAUgF,OAAO,GAAGvG,UAA4B,GAEhE,CACD0F,gBACgBzE,SAAS8I,iBAA8B,IAAI/J,KACnD+B,SAAQiI,IACZ,MAAM7F,EAAQ6F,EAAKjB,QAAQC,GACvB7E,IAAUA,EAAQ,EACpB6F,EAAKzD,SAELyD,EAAKzI,UAAUO,IAAI,OACpB,GAEJ,CACD2G,UACEG,MAAMH,UACNnE,KAAKqE,WAAa,KAClBrE,KAAKlE,SAAW,GAChBkE,KAAKjB,aAAU4G,CAChB,EC3HW,MAAOC,EAKnBhG,YAAYiG,EAA4B,IAHhC7F,KAAU8F,WAAgB,GAIhC9F,KAAK+F,wBACL,MAAMC,EAAmC,CACvCrE,MAAOjG,EACPuK,mBAAmB,EACnBC,oBAAoB,GAEtBlG,KAAKmG,kBAAoBC,OAAOC,OAAOL,EAAeH,GAClD7F,KAAKmG,kBAAkBD,oBACzBlG,KAAKsG,gBAER,CAGOP,wBAEN1H,OAAOqB,iBAAiB,QAASM,KAAKuG,eAAeC,KAAKxG,MAAO,CAAEyG,SAAS,GAC7E,CAEOF,eAAkCvF,GACxChB,KAAK8F,WAAWrI,SAAQiI,IACtB,GAAKA,EAAKtF,KACLsF,EAAKtF,GAAGnD,UAAU+E,SAAS,QAAS,CAEvC,IAAI0E,GAAW,EACXtG,EAAyB,CAAEuG,cAAe3F,EAAEe,QAEhD,KAAQ3B,EAAKA,EAAGuG,eACd,GAAIvG,IAAOsF,EAAKtF,GAAI,CAClBsG,GAAW,EACX,KACD,CAEEA,GACHhB,EAAKxB,MAER,IAEJ,CAEOoC,iBACNjI,OAAOqB,iBAAiB,UAAU,KAChCM,KAAK4G,aAAa,GAErB,CAQDC,OAAgBxC,GACdrF,EAAUtD,EFrDwB,QACjCA,wHAIcA,wGAMdA,MAAwBA,6CAIxBA,kPAUAA,6BACSA,mFAITA,yFAIAA,oKAOAA,mHAKAA,gEAGAA,+CACAA,QAA0BA,sEAG1BA,8OEEI2I,EAAW1C,QAAO0C,EAAW1C,MAAQ3B,KAAKmG,kBAAkBxE,OAE7D3B,KAAKmG,kBAAkBF,oBAAmB5B,EAAWZ,SAAW,SAEpE,MAAMqD,EAAW,IAAIjF,EAAK,EAAGwC,GAK7B,OAJArE,KAAK8F,WAAWrF,KAAKqG,GACjBA,EAAS1G,IACXzD,SAASoK,KAAKnJ,YAAYkJ,EAAS1G,IAE9B,CACLM,KAAM,CAAC+C,EAAU1E,IAAYiB,KAAKgH,SAASvD,EAAUqD,EAAU/H,GAC/DoD,aAAc2E,EAAS3E,aAAaqE,KAAKM,GACzC5C,KAAM4C,EAAS5C,KAAKsC,KAAKM,GACzB3C,QAAS,IAAMnE,KAAKmE,QAAQ2C,GAE/B,CAcDG,YAAqB5C,GACnB,IAAIqB,EACJ,MAAO,IACEA,IAASA,EAAO1F,KAAK6G,OAAOxC,GAEtC,CAKD2C,SAAYvD,EAAyBiC,EAAe3G,GAElD,OADAiB,KAAK4G,cACElB,EAAKhF,KAAK+C,EAAU1E,EAC5B,CACD6H,cACE5G,KAAK8F,WAAWrI,SAAQiI,GAAQA,EAAKxB,QACtC,CACDC,QAAQuB,GACNA,EAAKvB,UACLnE,KAAK8F,WAAa9F,KAAK8F,WAAW3I,QAAO+H,GAAYQ,IAASR,GAC/D"}