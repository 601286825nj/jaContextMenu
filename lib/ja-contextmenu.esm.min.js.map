{"version":3,"file":"ja-contextmenu.esm.min.js","sources":["../src/utils/h.ts","../src/config.ts","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/Menu.ts","../src/style.ts","../src/ContextMenu.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["h","tag","attrs","children","id","match","classArr","map","it","substring","elem","document","createElement","Array","isArray","attr","key","concat","textContent","String","classList","add","forEach","child","HTMLElement","appendChild","console","error","config","_storeWindowSize","getWindowSize","html","querySelector","ss","htmlEl","scrollWidth","window","innerWidth","clientWidth","scrollHeight","innerHeight","clientHeight","dealBastAttr","data","payload","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liClassList","liDisabled","disabled","push","className","class","onclick","e","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","icon","src","customItem","label","tip","panelOption","width","childMenu","Menu","childMenuEle","target","contains","style","display","show","calcPosition","childMenuHeight","parseFloat","getComputedStyle","height","liPosition","getBoundingClientRect","translateX","translateY","windowSize","x","y","transform","_a","removeChildMenus","_b","removeItemHover","Panel","createEl","zIndex","position","preventDefault","stopPropagation","MouseEvent","hide","destroy","remove","menuOption","super","createUl","ul","dataset","lv","oncontextmenu","updateMenuAttr","renderMenuItem","items","menuItemEl","lastChild","removeAllHover","scrollX","scrollY","childItem","querySelectorAll","menu","panelStyle","contextMenuStyle","ContextMenu","option","storeMenus","injectCss","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","titleTag","innerHTML","head","insertBefore","nextElementSibling","clickEventFunc","some","hideAllMenu","capture","create","mainMenu","body","showMenu","i","length","filter","Boolean"],"mappings":"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"}