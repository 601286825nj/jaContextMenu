{"version":3,"file":"ja-contextmenu.esm.min.js","sources":["../src/utils/h.ts","../src/config.ts","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/Menu.ts","../src/style.ts","../src/ContextMenu.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["h","tag","attrs","children","id","match","classArr","Array","from","map","it","substring","elem","document","createElement","isArray","attr","key","classList","concat","filter","Boolean","textContent","String","length","add","forEach","child","HTMLElement","appendChild","console","error","config","_storeWindowSize","getWindowSize","html","querySelector","innerWidth","innerHeight","window","clientWidth","clientHeight","htmlEl","scrollWidth","scrollHeight","dealBastAttr","data","payload","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liDisabled","disabled","liClassList","class","push","onclick","e","_a","call","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","icon","src","customItem","label","tip","width","childMenu","Menu","childMenuEle","target","contains","style","display","show","calcPosition","childMenuHeight","parseFloat","getComputedStyle","height","liPosition","getBoundingClientRect","translateX","translateY","windowSize","x","y","transform","removeChildMenus","_b","removeItemHover","Panel","panelOption","createEl","zIndex","position","eventListenerCb","preventDefault","stopPropagation","MouseEvent","hide","destroy","removeEventListener","remove","menuOption","super","createUl","ul","dataset","lv","oncontextmenu","updateMenuAttr","className","renderMenuItem","items","menuItemEl","lastChild","removeAllHover","scrollX","scrollY","childItem","querySelectorAll","menu","panelStyle","contextMenuStyle","ContextMenu","option","storeMenus","injectCss","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","titleTag","innerHTML","head","insertBefore","nextElementSibling","clickEventFunc","some","hideAllMenu","capture","create","mainMenu","body","showMenu","i"],"mappings":"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"}