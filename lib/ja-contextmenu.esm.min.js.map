{"version":3,"file":"ja-contextmenu.esm.min.js","sources":["../src/config.ts","../src/utils/h.ts","../src/utils/utils.ts","../src/MenuItem.ts","../src/style.ts","../src/Panel.ts","../src/Menu.ts","../src/ContextMenu.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["config","panelCssId","contextMenuCssId","panelClassName","wrapperClassName","defaultMenuWidth","menuItemHeight","menuItemDivideLineMargin","defaultZIndex","h","tag","attrs","children","tagMatch","match","Error","tagStr","id","classArr","Array","from","map","it","substring","elem","document","createElement","isArray","attr","v","key","classList","concat","filter","Boolean","textContent","String","length","add","forEach","child","HTMLElement","appendChild","console","error","_storeWindowSize","getWindowSize","html","querySelector","innerWidth","innerHeight","window","clientWidth","clientHeight","htmlEl","scrollWidth","scrollHeight","dealBaseAttr","data","payload","injectCss","cssId","styleString","style","getElementById","innerHTML","titleTag","head","insertBefore","nextElementSibling","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liDisabled","disabled","liClassList","class","push","show","undefined","iconEl","icon","src","display","onclick","e","stay","_a","call","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","customItem","label","tip","width","childMenu","Menu","childMenuEle","target","contains","prepareMenuShow","calcPosition","childMenuHeight","getBoundingClientRect","height","liPosition","translateX","translateY","windowSize","x","y","transform","removeChildMenus","_b","removeItemHover","panelStyle","contextMenuStyle","Panel","panelOption","TypeError","createEl","zIndex","position","eventListenerCb","preventDefault","stopPropagation","MouseEvent","hide","destroy","removeEventListener","remove","menuOption","super","createUl","ul","dataset","lv","oncontextmenu","updateMenuAttr","className","renderMenuItem","items","menuItemEl","lastChild","menuItem","removeAllHover","scrollX","scrollY","childItem","querySelectorAll","menu","ContextMenu","option","storeMenus","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","clickEventFunc","bind","capture","isInside","parentElement","hideAllMenu","create","mainMenu","body","showMenu","createAsync"],"mappings":"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"}