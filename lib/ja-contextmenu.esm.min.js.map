{"version":3,"file":"ja-contextmenu.esm.min.js","sources":["../src/utils/h.ts","../src/config.ts","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/Menu.ts","../src/style.ts","../src/ContextMenu.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["h","tag","attrs","children","id","match","classArr","map","it","substring","elem","document","createElement","Array","isArray","attr","key","concat","textContent","String","classList","add","forEach","child","HTMLElement","appendChild","console","error","config","_storeWindowSize","getWindowSize","html","querySelector","ss","htmlEl","scrollWidth","window","innerWidth","clientWidth","scrollHeight","innerHeight","clientHeight","dealBastAttr","data","payload","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liClassList","liDisabled","disabled","push","className","class","onclick","e","_a","call","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","icon","src","customItem","label","tip","panelOption","width","childMenu","Menu","childMenuEle","target","contains","style","display","show","calcPosition","childMenuHeight","parseFloat","getComputedStyle","height","liPosition","getBoundingClientRect","translateX","translateY","windowSize","x","y","transform","removeChildMenus","_b","removeItemHover","Panel","createEl","zIndex","position","preventDefault","stopPropagation","MouseEvent","hide","destroy","remove","menuOption","super","createUl","ul","dataset","lv","oncontextmenu","updateMenuAttr","renderMenuItem","items","menuItemEl","lastChild","removeAllHover","scrollX","scrollY","childItem","querySelectorAll","menu","panelStyle","contextMenuStyle","ContextMenu","option","storeMenus","injectCss","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","titleTag","innerHTML","head","insertBefore","nextElementSibling","clickEventFunc","some","hideAllMenu","capture","create","mainMenu","body","showMenu","i","length","filter","Boolean"],"mappings":"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"}