{"version":3,"file":"ja-contextmenu.esm.min.js","sources":["../src/config.ts","../src/utils/h.ts","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/style.ts","../src/Menu.ts","../src/ContextMenu.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["config","h","tag","attrs","children","tagMatch","match","Error","tagStr","id","classArr","Array","from","map","it","substring","elem","document","createElement","isArray","attr","v","key","classList","concat","filter","Boolean","textContent","String","length","add","forEach","child","HTMLElement","appendChild","console","error","_storeWindowSize","getWindowSize","html","querySelector","innerWidth","innerHeight","window","clientWidth","clientHeight","htmlEl","sW","sH","cW","cH","dealBaseAttr","data","payload","injectCss","cssId","styleString","style","getElementById","innerHTML","titleTag","head","insertBefore","nextElementSibling","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liDisabled","disabled","liClassList","class","push","show","iconEl","icon","src","display","onclick","e","stay","_a","call","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","customItem","label","tip","width","childMenu","Menu","childMenuEle","target","contains","remove","prepareMenuShow","calcPosition","childMenuHeight","getBoundingClientRect","height","liPosition","parentWidth","childWidth","translateX","translateY","windowSize","x","y","transform","removeChildMenus","_b","removeItemHover","Panel","panelOption","TypeError","createEl","zIndex","position","eventListenerCb","preventDefault","stopPropagation","MouseEvent","hide","destroy","removeEventListener","menuOption","super","createUl","ul","dataset","lv","oncontextmenu","updateMenuAttr","className","renderMenuItem","items","menuItemEl","lastChild","menuItem","removeAllHover","scrollX","scrollY","childItem","querySelectorAll","menu","undefined","ContextMenu","option","storeMenus","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","clickEventFunc","bind","capture","isInside","parentElement","hideAllMenu","create","mainMenu","body","showMenu","createAsync"],"mappings":"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"}