{"version":3,"file":"ja-contextmenu.esm.min.js","sources":["../src/config.ts","../src/utils/h.ts","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/Menu.ts","../src/style.ts","../src/ContextMenu.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["config","h","tag","attrs","children","id","match","classArr","Array","from","map","it","substring","elem","document","createElement","isArray","attr","key","classList","concat","filter","Boolean","textContent","String","length","add","forEach","child","HTMLElement","appendChild","console","error","_storeWindowSize","getWindowSize","html","querySelector","innerWidth","innerHeight","window","clientWidth","clientHeight","htmlEl","scrollWidth","scrollHeight","dealBastAttr","data","payload","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liDisabled","disabled","liClassList","class","push","show","undefined","iconEl","icon","src","style","display","onclick","e","stay","_a","call","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","customItem","label","tip","width","childMenu","Menu","childMenuEle","target","contains","prepareMenuShow","calcPosition","childMenuHeight","getBoundingClientRect","height","liPosition","translateX","translateY","windowSize","x","y","transform","removeChildMenus","_b","removeItemHover","Panel","panelOption","TypeError","createEl","zIndex","position","eventListenerCb","preventDefault","stopPropagation","MouseEvent","hide","destroy","removeEventListener","remove","menuOption","super","createUl","ul","dataset","lv","oncontextmenu","updateMenuAttr","className","renderMenuItem","items","menuItemEl","lastChild","removeAllHover","scrollX","scrollY","childItem","querySelectorAll","menu","panelStyle","contextMenuStyle","ContextMenu","option","storeMenus","injectCss","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","titleTag","innerHTML","head","insertBefore","nextElementSibling","clickEventFunc","bind","capture","isInside","parentElement","hideAllMenu","create","mainMenu","body","showMenu","menuItem"],"mappings":"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"}