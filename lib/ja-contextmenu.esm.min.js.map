{"version":3,"file":"ja-contextmenu.esm.min.js","sources":["../src/config.ts","../src/utils/h.ts","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/style.ts","../src/Menu.ts","../src/ContextMenu.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["config","h","tag","attrs","children","tagMatch","match","Error","tagStr","id","classArr","Array","from","map","it","substring","elem","document","createElement","isArray","attr","v","key","classList","concat","filter","Boolean","textContent","String","length","add","forEach","child","HTMLElement","appendChild","console","error","_storeWindowSize","getWindowSize","html","querySelector","innerWidth","innerHeight","window","clientWidth","clientHeight","htmlEl","sW","sH","cW","cH","dealBaseAttr","data","payload","injectCss","cssId","styleString","style","getElementById","innerHTML","titleTag","head","insertBefore","nextElementSibling","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liDisabled","disabled","liClassList","class","push","show","iconEl","icon","src","display","onclick","e","stay","_a","call","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","customItem","label","tip","width","childMenu","Menu","childMenuEle","target","contains","remove","prepareMenuShow","calcPosition","childMenuHeight","getBoundingClientRect","height","liPosition","parentWidth","childWidth","translateX","translateY","windowSize","x","y","maxHeight","transform","removeChildMenus","_b","removeItemHover","PanelPositionEnum","Panel","panelOption","TypeError","createEl","zIndex","position","eventListenerCb","preventDefault","stopPropagation","MouseEvent","RIGHT","BOTTOM","LEFT","TOP","hide","destroy","removeEventListener","menuOption","super","createUl","ul","dataset","lv","oncontextmenu","updateMenuAttr","className","renderMenuItem","items","menuItemEl","lastChild","menuItem","removeAllHover","p","res","scrollX","scrollY","childItem","querySelectorAll","menu","undefined","ContextMenu","option","storeMenus","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","clickEventFunc","bind","capture","isInside","parentElement","hideAllMenu","create","mainMenu","body","showMenu","createAsync"],"mappings":"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"}