{"version":3,"file":"index.esm.min.js","sources":["../src/utils/h.ts","../src/config.js","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/Menu.ts","../src/style.ts","../src/ContextMenu.ts"],"sourcesContent":[null,"export default {\r\n  cssId: 'ja-contextmenu-css',\r\n  panelClassName: 'ja-panel',\r\n  wrapperClassName: 'ja-contextmenu',\r\n  defaultMenuWidth: 200,\r\n  // childMenuWidth: 150, // 自动继承父菜单宽度\r\n  menuItemHeight: 24,\r\n  menuItemDivideLineMargin: 5, // type == 'divide'\r\n  baseZIndex: 1000, // 基准z-index\r\n};\r\n",null,null,null,null,null,null],"names":["h","tag","attrs","children","id","match","let","classArr","map","it","substring","elem","document","createElement","Array","isArray","attr","key","concat","textContent","String","classList","add","forEach","child","HTMLElement","appendChild","console","error","cssId","panelClassName","wrapperClassName","defaultMenuWidth","menuItemHeight","menuItemDivideLineMargin","baseZIndex","_storeWindowSize","getWindowSize","html","querySelector","ss","htmlEl","scrollWidth","window","innerWidth","clientWidth","scrollHeight","innerHeight","clientHeight","dealTextFmt","data","payload","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liClassList","disabled","push","className","class","onclick","e","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","icon","src","customItem","label","tip","panelOption","width","childMenu","Menu","childMenuEle","target","contains","config","style","display","calcPosition","removeAllHover","childMenuHeight","parseFloat","getComputedStyle","height","liPosition","getBoundingClientRect","translateX","translateY","windowSize","x","y","removeChildMenus","transform","removeItemHover","Panel","zIndex","position","preventDefault","stopPropagation","show","MouseEvent","hide","destroy","remove","menuOption","super","renderMenuItem","ul","dataset","lv","oncontextmenu","updateMenuAttr","items","menuItemEl","lastChild","scrollX","scrollY","childItem","menus","querySelectorAll","menu","panelStyle","contextMenuStyle","ContextMenu","option","injectCss","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","titleTag","innerHTML","head","insertBefore","nextElementSibling","clickEventFunc","storeMenus","some","hideAllMenu","capture","create","mainMenu","body","showMenu","i","length","filter","Boolean"],"mappings":"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"}