{"version":3,"file":"index.esm.min.js","sources":["../src/utils/h.ts","../src/config.js","../src/MenuItem.js","../src/Menu.js","../src/ContextMenu.js"],"sourcesContent":[null,"export default {\r\n  cssId: 'jacontextmenu-css',\r\n  wrapperClassName: 'jacontextmenu',\r\n  defaultMenuWidth: 200,\r\n  // childMenuWidth: 150,\r\n  menuItemHeight: 24,\r\n  menuItemDivideLineMargin: 5, // type == 'divide'\r\n  baseZIndex: 1000, // 基准z-index\r\n};\r\n","import h from './utils/h.ts';\r\nimport Menu from './Menu.js';\r\nimport config from './config.js';\r\n/**\r\n * Menu item\r\n */\r\nexport default class MenuItem {\r\n  /** @type {Menu} */\r\n  parentMenu;\r\n  /** @type {Number} 0 1*/\r\n  level;\r\n  /** @type {HTMLElement} element*/\r\n  el;\r\n  /** @type {Object} item option*/\r\n  itemOption;\r\n  /** @type {Menu} */\r\n  childMenu;\r\n  constructor(level, item, parentMenu) {\r\n    // console.log(parentMenu);\r\n    this.parentMenu = parentMenu;\r\n    this.level = level;\r\n    this.itemOption = item; // save option\r\n    this.init();\r\n  }\r\n  init() {\r\n    const item = this.itemOption;\r\n    if (item.type === 'divide' || item.type?.indexOf('---') === 0) {\r\n      this.el = h('li.divide');\r\n    } else {\r\n      this.el = h(\r\n        'li',\r\n        {\r\n          classList: item.disabled ? ['disabled'] : [],\r\n          onclick: (e) => {\r\n            if (!item.disabled) {\r\n              const payload = this.parentMenu.payload;\r\n              item.onclick && item.onclick(e, payload);\r\n              if (!item.children) this.parentMenu.closeAllMenus();\r\n            }\r\n          },\r\n          // onmouseenter: it.children?.length\r\n          //   ? (e) => this.#showChildMenu(e, it.children, contextMenuEle)\r\n          //   : () => this.#hideChildMenu(contextMenuEle),\r\n          onmouseenter: item.children\r\n            ? (e) => {\r\n                this.showChildMenu(e);\r\n              }\r\n            : () => {\r\n                this.hideOtherChildMenu(); // 移除所有子菜单\r\n              },\r\n        },\r\n        [h('span.label', item.label), item.tip && h('span.tip', item.tip), item.children && h('span.right-arrow')]\r\n      );\r\n    }\r\n    if (item.children) {\r\n      if (!item.children.width) item.children.width = this.parentMenu.width; // 不设置宽度则继承父菜单宽度\r\n      this.childMenu = new Menu(this.level + 1, item.children);\r\n    }\r\n  }\r\n  // 展示子菜单\r\n  showChildMenu(e) {\r\n    const childMenuEle = this.childMenu.el;\r\n    // if childMenuEle is hidden\r\n    if (!e.target.contains(childMenuEle)) {\r\n      e.target.classList.add(config.wrapperClassName + '_hover');\r\n      childMenuEle.style.display = 'block';\r\n\r\n      const childMenuHeight = parseFloat(getComputedStyle(childMenuEle).height);\r\n      const liPosition = e.target.getBoundingClientRect();\r\n      let translateX = this.parentMenu.width - 5;\r\n      let translateY = -2; // paddingTop\r\n      // right avaliable space\r\n      if (window.innerWidth - liPosition.x - this.parentMenu.width < this.childMenu.width) {\r\n        translateX = -this.childMenu.width + 5;\r\n      }\r\n      // bottom avaliable space\r\n      if (window.innerWidth - liPosition.y + 2 < childMenuHeight) {\r\n        translateY = -childMenuHeight + config.menuItemHeight + 2 + 1; // 1px border\r\n      }\r\n      this.childMenu.removeChildMenus();\r\n      childMenuEle.style.transform = `translate(${translateX}px, ${translateY}px)`;\r\n    }\r\n    this.el.appendChild(childMenuEle);\r\n    this.childMenu.removeAllHover(); // 取消hover\r\n    this.childMenu.payload = this.parentMenu.payload; // payload传入子菜单\r\n  }\r\n  hideOtherChildMenu() {\r\n    this.parentMenu?.removeChildMenus(); // 移除所有子菜单\r\n    this.parentMenu?.removeItemHover(); // 取消hover状态\r\n  }\r\n}\r\n","import h from './utils/h.ts';\r\nimport config from './config.js';\r\nimport MenuItem from './MenuItem.js';\r\n\r\n/**\r\n * 第一层menu保留el，使用display控制显示隐藏\r\n * 第二层后的menu使用remove来控制显示隐藏\r\n */\r\nexport default class Menu {\r\n  /** @type {Number} 0 1*/\r\n  level;\r\n  /** @type {HTMLElement} element*/\r\n  el;\r\n  /** @type {Number} menu width 传百分比就不好计算 */\r\n  width;\r\n  /** @type {Number} menu height 计算得出的菜单高度 */\r\n  height = 0;\r\n  /** @type {Array} config*/\r\n  items;\r\n  /** @type {Array<MenuItem>} */\r\n  children = [];\r\n  /** @type {any} 传入的参数 */\r\n  payload;\r\n  /** @type {{position:String}} */\r\n  innerOption;\r\n  constructor(level, option, innerOption) {\r\n    this.level = level;\r\n    this.items = option.items;\r\n    this.width = option.width || config.defaultMenuWidth;\r\n    this.innerOption = innerOption;\r\n    this.init();\r\n    this.addChildren(option.items);\r\n  }\r\n  init() {\r\n    // 生成最外层元素\r\n    this.el = h(`ul.${config.wrapperClassName}.${config.wrapperClassName}-lv${this.level}`, {\r\n      dataset: {\r\n        lv: this.level,\r\n      },\r\n      style: {\r\n        width: this.width + 'px',\r\n        zIndex: +config.baseZIndex + this.level,\r\n        position: this.innerOption?.position, // fix\r\n      },\r\n      onclick: (e) => e.stopPropagation(),\r\n      oncontextmenu: (e) => {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n      },\r\n    });\r\n  }\r\n  addChildren(items) {\r\n    if (!Array.isArray(items)) {\r\n      return console.error('option.items is not type of array');\r\n    }\r\n    for (const it of items) {\r\n      this.children.push(new MenuItem(this.level, it, this));\r\n    }\r\n    // 挂载li\r\n    this.children.forEach((item) => {\r\n      this.el.appendChild(item.el);\r\n    });\r\n  }\r\n  // 展示菜单\r\n  show(e, payload) {\r\n    this.payload = payload;\r\n    e.preventDefault();\r\n    e.stopPropagation(); // 防止触发祖先元素定义的contextmenu事件\r\n    this.removeAllHover(); // 移除所有hover\r\n    this.removeChildMenus(); // 打开的时候不会展示任何子菜单\r\n    this.calcPosition(e);\r\n    this.el.style.display = 'block';\r\n  }\r\n  // 计算出现的位置\r\n  calcPosition(e) {\r\n    const scrollWidth = window.outerWidth - window.innerWidth;\r\n    this.height = parseFloat(getComputedStyle(this.el).height);\r\n    let translateX = e.clientX;\r\n    let translateY = e.clientY + (this.level === 0 && !this.innerOption.position ? window.scrollY : 0);\r\n    // right not have enough space\r\n    if (window.innerWidth - e.clientX - scrollWidth < this.width) {\r\n      translateX = e.clientX - this.width;\r\n    }\r\n    // bottom not have enough space\r\n    if (window.innerHeight - e.clientY - scrollWidth < this.height) {\r\n      translateY = e.clientY - this.height;\r\n    }\r\n    this.el.style.transform = `translate(${translateX}px,${translateY}px)`;\r\n  }\r\n  // 隐藏菜单\r\n  hide() {\r\n    this.el.style.display = 'none';\r\n  }\r\n  // 移除所有hover\r\n  removeAllHover() {\r\n    this.children.forEach((item) => {\r\n      item.el.classList.remove(`${config.wrapperClassName}_hover`);\r\n    });\r\n  }\r\n  // 移除所有子菜单\r\n  removeChildMenus() {\r\n    this.children.forEach((item) => {\r\n      item.childMenu?.el.remove();\r\n    });\r\n  }\r\n  // 移除选项hover\r\n  removeItemHover() {\r\n    this.children.forEach((childItem) => {\r\n      childItem.el.classList.remove(`${config.wrapperClassName}_hover`);\r\n    });\r\n  }\r\n  // 关闭所有菜单\r\n  closeAllMenus() {\r\n    let menus = document.querySelectorAll(`.${config.wrapperClassName}`);\r\n    menus.forEach((menu) => {\r\n      let level = menu.dataset.lv;\r\n      if (level > 0) {\r\n        menu.remove();\r\n      } else {\r\n        menu.style.display = 'none';\r\n      }\r\n    });\r\n  }\r\n}\r\n","import h from './utils/h.ts';\r\n// import debounce from './utils/debounce.js';\r\nimport config from './config.js';\r\n// import store from './store.js';\r\nimport Menu from './Menu.js';\r\n\r\nconst _cssStr = `\r\n  .${config.wrapperClassName}, .${config.wrapperClassName} *{\r\n    box-sizing: border-box;\r\n  }\r\n  .${config.wrapperClassName}{\r\n    -webkit-user-select:none;\r\n    user-select: none;\r\n    border: 1px solid #ddd;\r\n    left: 0;top:0;\r\n    background-color: #fff;\r\n    padding: 2px 0 2px 0px;\r\n    margin: 0;\r\n    cursor: default;\r\n    width: ${config.defaultMenuWidth}px;\r\n    display: none;\r\n  }\r\n  /*主菜单*/\r\n  .${config.wrapperClassName}[data-lv=\"0\"]{ \r\n    position: absolute;\r\n  }\r\n  /*子菜单*/\r\n  .${config.wrapperClassName} .${config.wrapperClassName}{ \r\n    position: absolute;\r\n  }\r\n  .${config.wrapperClassName} .divide{\r\n    margin: ${config.menuItemDivideLineMargin}px 0;\r\n    height: 1px;\r\n    background-color: #ddd;\r\n  }\r\n  .${config.wrapperClassName} li {\r\n    position: relative;\r\n    padding: 0 30px 0 30px;\r\n    list-style: none;\r\n    line-height: ${config.menuItemHeight}px;\r\n    font-size: 13px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-wrap: nowrap;\r\n  }\r\n  .${config.wrapperClassName} li.disabled{\r\n    color: #aaa;\r\n    pointer-events: none;\r\n  }\r\n  .${config.wrapperClassName} li span.label {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n  .${config.wrapperClassName} li span.tip{\r\n    color:#aaa;\r\n    font-size: 12px;\r\n  }\r\n  .${config.wrapperClassName} li:hover:not(.divide):not(.disabled),\r\n  .${config.wrapperClassName} li.${config.wrapperClassName}_hover{\r\n    background-color: #eee;\r\n  }\r\n  .${config.wrapperClassName} li:hover:not(.divide):not(.disabled) .tip,\r\n  .${config.wrapperClassName} li.${config.wrapperClassName}_hover .tip{\r\n    color: #000;\r\n  }\r\n  .${config.wrapperClassName} li .right-arrow {\r\n    position: absolute;\r\n    right: 8px;\r\n    top: 9px;\r\n    border-top: 4px solid rgba(0,0,0,0);\r\n    border-left: 4px solid #000;\r\n    border-right: 4px solid rgba(0,0,0,0);\r\n    border-bottom: 4px solid rgba(0,0,0,0);\r\n  }\r\n  .${config.wrapperClassName}_child{\r\n    width: ${config.childMenuWidth}px;\r\n  }\r\n  `;\r\nexport default class ContextMenu {\r\n  /** @type {Menu} 保存生成的菜单,便于统一管理 */\r\n  storeMenus = [];\r\n  /** @type {Function} */\r\n  clickEventFunc;\r\n  /** @type {{fixMenuWhenScroll:Boolean, hideMenuWhenScroll:Boolean}} */\r\n  config;\r\n  constructor(config) {\r\n    this.injectCss();\r\n    // this.#onPageResize();\r\n    this.hideMenuEventListener();\r\n    const defaultConfig = {\r\n      fixMenuWhenScroll: true,\r\n      hideMenuWhenScroll: false,\r\n    };\r\n    this.config = Object.assign(defaultConfig, config);\r\n    if (this.config.hideMenuWhenScroll) {\r\n      this.scrollListener();\r\n    }\r\n  }\r\n  // 注入css\r\n  injectCss() {\r\n    let style = document.querySelector(`#${config.cssId}`);\r\n    if (!style) {\r\n      // if not be injected\r\n      style = h(`style#${config.cssId}`, {\r\n        innerHTML: _cssStr,\r\n      });\r\n      document.head.appendChild(style);\r\n    }\r\n  }\r\n  /** click and close menu listener */\r\n  hideMenuEventListener() {\r\n    // add once event\r\n    if (!this.clickEventFunc) {\r\n      this.clickEventFunc = () => {\r\n        if (this.storeMenus.some((it) => it.el.style.display === 'block')) {\r\n          // 存在打开的菜单才关闭\r\n          this.hideAllMenu();\r\n        }\r\n      };\r\n      window.addEventListener('click', this.clickEventFunc, { capture: true });\r\n    }\r\n  }\r\n  /** if scroll hide all menu */\r\n  scrollListener() {\r\n    window.addEventListener('scroll', () => {\r\n      this.hideAllMenu();\r\n    });\r\n  }\r\n  /**\r\n   *\r\n   * @param {Array<Object>} items 配置\r\n   * @returns\r\n   */\r\n  create(option) {\r\n    let innerOptiton = {};\r\n    if (this.config.fixMenuWhenScroll) {\r\n      innerOptiton.position = 'fixed';\r\n    }\r\n    const mainMenu = new Menu(0, option, innerOptiton);\r\n    this.storeMenus.push(mainMenu);\r\n    document.body.appendChild(mainMenu.el);\r\n    return {\r\n      show: (e, payload) => {\r\n        this.showMenu(e, mainMenu, payload);\r\n      },\r\n    };\r\n  }\r\n  /** 监听窗口 */\r\n  // #onPageResize() {\r\n  //   let resizeFunc = debounce(() => {\r\n  //     // save window inner size\r\n  //     store.windowSize = {\r\n  //       width: window.innerWidth,\r\n  //       height: window.innerHeight,\r\n  //     };\r\n  //   });\r\n  //   window.addEventListener('resize', resizeFunc);\r\n  // }\r\n  /**\r\n   * 展示菜单\r\n   * @param {Menu} menu\r\n   */\r\n  showMenu(e, menu, payload) {\r\n    // 隐藏其他菜单\r\n    this.storeMenus.forEach((item) => {\r\n      item.hide();\r\n    });\r\n    menu.show(e, payload);\r\n  }\r\n  hideAllMenu() {\r\n    this.storeMenus.forEach((menu) => {\r\n      menu.el.style.display = 'none';\r\n    });\r\n  }\r\n}\r\n"],"names":["h","tag","attrs","children","id","match","classArr","map","it","substring","elem","document","createElement","Array","isArray","attr","key","concat","textContent","String","_a","classList","add","forEach","child","HTMLElement","appendChild","console","error","cssId","wrapperClassName","defaultMenuWidth","menuItemHeight","menuItemDivideLineMargin","baseZIndex","MenuItem","parentMenu","level","el","itemOption","childMenu","constructor","item","this","init","type","indexOf","disabled","onclick","payload","e","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","label","tip","width","Menu","childMenuEle","target","contains","config","style","display","childMenuHeight","parseFloat","getComputedStyle","height","liPosition","getBoundingClientRect","let","translateX","translateY","window","innerWidth","x","y","removeChildMenus","transform","removeAllHover","removeItemHover","items","innerOption","option","addChildren","dataset","lv","zIndex","position","stopPropagation","oncontextmenu","preventDefault","push","show","calcPosition","scrollWidth","outerWidth","clientX","clientY","scrollY","innerHeight","hide","remove","childItem","menus","querySelectorAll","menu","_cssStr","childMenuWidth","ContextMenu","storeMenus","clickEventFunc","injectCss","hideMenuEventListener","Object","assign","fixMenuWhenScroll","hideMenuWhenScroll","scrollListener","querySelector","innerHTML","head","some","hideAllMenu","addEventListener","capture","create","innerOptiton","mainMenu","body","showMenu"],"mappings":"SAewBA,EACtBC,EACAC,EACAC,OAIIC,EAAKH,EAAII,MAAM,cAGnBC,GADIA,EAAqBL,EAAII,MAAM,iBAAmB,IAClCE,IAAI,SAACC,GAAO,OAAAA,EAAGC,UAAU,KAC7CR,EAAMA,EAAII,MAAM,YAAY,GAE5B,IAAIK,EAAYC,SAASC,cAAcX,GAGvC,GAFIG,IAAIM,EAAKN,GAAKA,EAAG,GAAGK,UAAU,IAE9BI,MAAMC,QAAQZ,GAChBC,EAAWD,OACN,GAAqB,iBAAVA,GAAgC,OAAVA,EACtC,IAAK,IAAMa,KAAQb,EACjB,GAAa,UAATa,GAA6B,YAATA,EACtB,IAAK,IAAMC,KAAOd,EAAMa,GACtBL,EAAKK,GAAMC,GAAOd,EAAMa,GAAMC,OAEd,cAATD,GAAwBF,MAAMC,QAAQZ,EAAMa,IACrDT,EAAWA,EAASW,OAAOf,EAAMa,IAEjCL,EAAKK,GAAQb,EAAMa,OAGG,iBAAVb,GAAuC,iBAAVA,IAC7CQ,EAAKQ,YAAcC,OAAOjB,IAY5B,OATII,IAAUc,EAAAV,EAAKW,WAAUC,YAAOhB,GAChCH,GACFA,EAASoB,QAAQ,SAACC,GACZA,aAAiBC,YAAaf,EAAKgB,YAAYF,GAC1CA,MAAAA,GACPG,QAAQC,MAAMJ,EAAO,iCAIpBd,EC1DT,WAAe,CACbmB,MAAO,oBACPC,iBAAkB,gBAClBC,iBAAkB,IAElBC,eAAgB,GAChBC,yBAA0B,EAC1BC,WAAY,WCDOC,SAEnBC,WAEAC,MAEAC,GAEAC,WAEAC,UACAC,YAAYJ,EAAOK,EAAMN,GAEvBO,KAAKP,WAAaA,EAClBO,KAAKN,MAAQA,EACbM,KAAKJ,WAAaG,EAClBC,KAAKC,OAEPA,OACE,MAAMF,EAAOC,KAAKJ,WACA,WAAdG,EAAKG,MAAmD,IAA9BH,EAAKG,MAAMC,QAAQ,OAC/CH,KAAKL,GAAKtC,EAAE,aAEZ2C,KAAKL,GAAKtC,EACR,KACA,CACEqB,UAAWqB,EAAKK,SAAW,CAAC,YAAc,GAC1CC,QAAS,IACP,IACQC,EADHP,EAAKK,WACFE,EAAUN,KAAKP,WAAWa,QAChCP,EAAKM,SAAWN,EAAKM,QAAQE,EAAGD,GAC3BP,EAAKvC,UAAUwC,KAAKP,WAAWe,kBAMxCC,aAAcV,EAAKvC,SACf,IACEwC,KAAKU,cAAcH,IAErB,KACEP,KAAKW,uBAGb,CAACtD,EAAE,aAAc0C,EAAKa,OAAQb,EAAKc,KAAOxD,EAAE,WAAY0C,EAAKc,KAAMd,EAAKvC,UAAYH,EAAE,sBAGtF0C,EAAKvC,WACFuC,EAAKvC,SAASsD,QAAOf,EAAKvC,SAASsD,MAAQd,KAAKP,WAAWqB,OAChEd,KAAKH,UAAY,IAAIkB,KAAKf,KAAKN,MAAQ,EAAGK,EAAKvC,WAInDkD,cAAcH,GACZ,MAAMS,EAAehB,KAAKH,UAAUF,GAEpC,IAAKY,EAAEU,OAAOC,SAASF,GAAe,CACpCT,EAAEU,OAAOvC,UAAUC,IAAIwC,OAAOhC,iBAAmB,UACjD6B,EAAaI,MAAMC,QAAU,QAE7B,IAAMC,EAAkBC,WAAWC,iBAAiBR,GAAcS,QAC5DC,EAAanB,EAAEU,OAAOU,wBAC5BC,IAAIC,EAAa7B,KAAKP,WAAWqB,MAAQ,EACrCgB,GAAc,EAEdC,OAAOC,WAAaN,EAAWO,EAAIjC,KAAKP,WAAWqB,MAAQd,KAAKH,UAAUiB,QAC5Ee,EAAqC,EAAvB7B,KAAKH,UAAUiB,OAG3BiB,OAAOC,WAAaN,EAAWQ,EAAI,EAAIZ,IACzCQ,GAAcR,EAAkBH,OAAO9B,eAAiB,EAAI,GAE9DW,KAAKH,UAAUsC,mBACfnB,EAAaI,MAAMgB,uBAAyBP,QAAiBC,OAE/D9B,KAAKL,GAAGZ,YAAYiC,GACpBhB,KAAKH,UAAUwC,iBACfrC,KAAKH,UAAUS,QAAUN,KAAKP,WAAWa,QAE3CK,qBACEX,KAAKP,YAAY0C,mBACjBnC,KAAKP,YAAY6C,yBChFAvB,KAEnBrB,MAEAC,GAEAmB,MAEAW,OAAS,EAETc,MAEA/E,SAAW,GAEX8C,QAEAkC,YACA1C,YAAYJ,EAAO+C,EAAQD,GACzBxC,KAAKN,MAAQA,EACbM,KAAKuC,MAAQE,EAAOF,MACpBvC,KAAKc,MAAQ2B,EAAO3B,OAASK,OAAO/B,iBACpCY,KAAKwC,YAAcA,EACnBxC,KAAKC,OACLD,KAAK0C,YAAYD,EAAOF,OAE1BtC,OAEED,KAAKL,GAAKtC,QAAQ8D,OAAOhC,oBAAoBgC,OAAOhC,sBAAsBa,KAAKN,MAAS,CACtFiD,QAAS,CACPC,GAAI5C,KAAKN,OAEX0B,MAAO,CACLN,MAAOd,KAAKc,MAAQ,KACpB+B,QAAS1B,OAAO5B,WAAaS,KAAKN,MAClCoD,SAAU9C,KAAKwC,aAAaM,UAE9BzC,QAAS,GAAOE,EAAEwC,kBAClBC,cAAe,IACbzC,EAAEwC,kBACFxC,EAAE0C,oBAIRP,YAAYH,GACV,IAAKrE,MAAMC,QAAQoE,GACjB,OAAOvD,QAAQC,MAAM,qCAEvB,IAAK,MAAMpB,KAAM0E,EACfvC,KAAKxC,SAAS0F,KAAK,IAAI1D,SAASQ,KAAKN,MAAO7B,EAAImC,OAGlDA,KAAKxC,SAASoB,QAAQ,IACpBoB,KAAKL,GAAGZ,YAAYgB,EAAKJ,MAI7BwD,KAAK5C,EAAGD,GACNN,KAAKM,QAAUA,EACfC,EAAE0C,iBACF1C,EAAEwC,kBACF/C,KAAKqC,iBACLrC,KAAKmC,mBACLnC,KAAKoD,aAAa7C,GAClBP,KAAKL,GAAGyB,MAAMC,QAAU,QAG1B+B,aAAa7C,GACX,IAAM8C,EAActB,OAAOuB,WAAavB,OAAOC,WAC/ChC,KAAKyB,OAASF,WAAWC,iBAAiBxB,KAAKL,IAAI8B,QACnDG,IAAIC,EAAatB,EAAEgD,QACfzB,EAAavB,EAAEiD,SAA0B,IAAfxD,KAAKN,OAAgBM,KAAKwC,YAAYM,SAA4B,EAAjBf,OAAO0B,SAElF1B,OAAOC,WAAazB,EAAEgD,QAAUF,EAAcrD,KAAKc,QACrDe,EAAatB,EAAEgD,QAAUvD,KAAKc,OAG5BiB,OAAO2B,YAAcnD,EAAEiD,QAAUH,EAAcrD,KAAKyB,SACtDK,EAAavB,EAAEiD,QAAUxD,KAAKyB,QAEhCzB,KAAKL,GAAGyB,MAAMgB,uBAAyBP,OAAgBC,OAGzD6B,OACE3D,KAAKL,GAAGyB,MAAMC,QAAU,OAG1BgB,iBACErC,KAAKxC,SAASoB,QAAQ,IACpBmB,EAAKJ,GAAGjB,UAAUkF,OAAUzC,OAAOhC,iBAAV,YAI7BgD,mBACEnC,KAAKxC,SAASoB,QAAQ,IACpBmB,EAAKF,WAAWF,GAAGiE,WAIvBtB,kBACEtC,KAAKxC,SAASoB,QAAQ,IACpBiF,EAAUlE,GAAGjB,UAAUkF,OAAUzC,OAAOhC,iBAAV,YAIlCqB,gBACEoB,IAAIkC,EAAQ9F,SAAS+F,iBAAiB,IAAI5C,OAAOhC,kBACjD2E,EAAMlF,QAAQ,IAEA,EADAoF,EAAKrB,QAAQC,GAEvBoB,EAAKJ,SAELI,EAAK5C,MAAMC,QAAU,UCjH7B,MAAM4C;KACD9C,OAAOhC,sBAAsBgC,OAAOhC;;;KAGpCgC,OAAOhC;;;;;;;;;aASCgC,OAAO/B;;;;KAIf+B,OAAOhC;;;;KAIPgC,OAAOhC,qBAAqBgC,OAAOhC;;;KAGnCgC,OAAOhC;cACEgC,OAAO7B;;;;KAIhB6B,OAAOhC;;;;mBAIOgC,OAAO9B;;;;;;KAMrB8B,OAAOhC;;;;KAIPgC,OAAOhC;;;;KAIPgC,OAAOhC;;;;KAIPgC,OAAOhC;KACPgC,OAAOhC,uBAAuBgC,OAAOhC;;;KAGrCgC,OAAOhC;KACPgC,OAAOhC,uBAAuBgC,OAAOhC;;;KAGrCgC,OAAOhC;;;;;;;;;KASPgC,OAAOhC;aACCgC,OAAO+C;;UAGCC,YAEnBC,WAAa,GAEbC,eAEAlD,OACArB,YAAYqB,GACVnB,KAAKsE,YAELtE,KAAKuE,wBAKLvE,KAAKmB,OAASqD,OAAOC,OAJC,CACpBC,mBAAmB,EACnBC,oBAAoB,GAEqBxD,GACvCnB,KAAKmB,OAAOwD,oBACd3E,KAAK4E,iBAITN,YACE1C,IAAIR,GAAAA,EAAQpD,SAAS6G,cAAc,IAAI1D,OAAOjC,UAG5CkC,EAAQ/D,EAAE,SAAS8D,OAAOjC,MAAS,CACjC4F,UAAWb,UAEbjG,SAAS+G,KAAKhG,YAAYqC,IAI9BmD,wBAEOvE,KAAKqE,iBACRrE,KAAKqE,eAAiB,KAChBrE,KAAKoE,WAAWY,KAAK,GAAgC,UAAxBnH,EAAG8B,GAAGyB,MAAMC,UAE3CrB,KAAKiF,eAGTlD,OAAOmD,iBAAiB,QAASlF,KAAKqE,eAAgB,CAAEc,SAAS,KAIrEP,iBACE7C,OAAOmD,iBAAiB,SAAU,KAChClF,KAAKiF,gBAQTG,OAAO3C,GACLb,IAAIyD,EAAe,GACfrF,KAAKmB,OAAOuD,oBACdW,EAAavC,SAAW,SAE1B,MAAMwC,EAAW,IAAIvE,KAAK,EAAG0B,EAAQ4C,GAGrC,OAFArF,KAAKoE,WAAWlB,KAAKoC,GACrBtH,SAASuH,KAAKxG,YAAYuG,EAAS3F,IAC5B,CACLwD,KAAM,CAAC5C,EAAGD,KACRN,KAAKwF,SAASjF,EAAG+E,EAAUhF,KAmBjCkF,SAASjF,EAAGyD,EAAM1D,GAEhBN,KAAKoE,WAAWxF,QAAQ,IACtBmB,EAAK4D,SAEPK,EAAKb,KAAK5C,EAAGD,GAEf2E,cACEjF,KAAKoE,WAAWxF,QAAQ,IACtBoF,EAAKrE,GAAGyB,MAAMC,QAAU"}