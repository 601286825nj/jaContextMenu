{"version":3,"file":"index.esm.min.js","sources":["../src/utils/h.ts","../src/config.js","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/Menu.ts","../src/style.ts","../src/ContextMenu.ts"],"sourcesContent":[null,"export default {\n  cssId: 'ja-contextmenu-css',\n  panelClassName: 'ja-panel',\n  wrapperClassName: 'ja-contextmenu',\n  defaultMenuWidth: 200,\n  // childMenuWidth: 150, // 自动继承父菜单宽度\n  menuItemHeight: 24,\n  menuItemDivideLineMargin: 5, // type == 'divide'\n  baseZIndex: 1000, // 基准z-index\n};\n",null,null,null,null,null,null],"names":["h","tag","attrs","children","id","match","let","classArr","map","it","substring","elem","document","createElement","Array","isArray","attr","key","concat","textContent","String","classList","add","forEach","child","HTMLElement","appendChild","console","error","config","cssId","panelClassName","wrapperClassName","defaultMenuWidth","menuItemHeight","menuItemDivideLineMargin","baseZIndex","_storeWindowSize","getWindowSize","html","querySelector","ss","htmlEl","scrollWidth","window","innerWidth","clientWidth","scrollHeight","innerHeight","clientHeight","dealTextFmt","data","payload","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","liClassList","panelOption","type","el","disabled","push","className","class","onclick","e","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","icon","src","customItem","label","tip","width","childMenu","Menu","childMenuEle","target","contains","style","display","calcPosition","removeAllHover","childMenuHeight","parseFloat","getComputedStyle","height","liPosition","getBoundingClientRect","translateX","translateY","windowSize","x","y","removeChildMenus","transform","_a","_b","removeItemHover","Panel","zIndex","position","preventDefault","stopPropagation","show","MouseEvent","hide","destroy","remove","menuOption","super","renderMenuItem","ul","dataset","lv","oncontextmenu","updateMenuAttr","items","menuItemEl","lastChild","scrollX","scrollY","childItem","querySelectorAll","menu","panelStyle","contextMenuStyle","ContextMenu","option","storeMenus","injectCss","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","titleTag","innerHTML","head","insertBefore","nextElementSibling","clickEventFunc","some","hideAllMenu","capture","create","mainMenu","body","showMenu","i","length","filter","Boolean"],"mappings":"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"}