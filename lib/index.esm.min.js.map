{"version":3,"file":"index.esm.min.js","sources":["../src/utils/h.ts","../src/config.js","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/Menu.ts","../src/style.ts","../src/ContextMenu.ts"],"sourcesContent":[null,"export default {\r\n  cssId: 'ja-contextmenu-css',\r\n  panelClassName: 'ja-panel',\r\n  wrapperClassName: 'ja-contextmenu',\r\n  defaultMenuWidth: 200,\r\n  // childMenuWidth: 150, // 自动继承父菜单宽度\r\n  menuItemHeight: 24,\r\n  menuItemDivideLineMargin: 5, // type == 'divide'\r\n  baseZIndex: 1000, // 基准z-index\r\n};\r\n",null,null,null,null,null,null],"names":["h","tag","attrs","children","id","match","let","classArr","map","it","substring","elem","document","createElement","Array","isArray","attr","key","concat","textContent","String","classList","add","forEach","child","HTMLElement","appendChild","console","error","cssId","panelClassName","wrapperClassName","defaultMenuWidth","menuItemHeight","menuItemDivideLineMargin","baseZIndex","_storeWindowSize","getWindowSize","html","querySelector","ss","htmlEl","scrollWidth","window","innerWidth","clientWidth","scrollHeight","innerHeight","clientHeight","addEventListener","log","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","disabled","onclick","e","payload","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","label","tip","width","childMenu","Menu","childMenuEle","target","contains","config","style","display","calcPosition","removeAllHover","childMenuHeight","parseFloat","getComputedStyle","height","liPosition","getBoundingClientRect","translateX","translateY","windowSize","x","y","removeChildMenus","transform","removeItemHover","Panel","option","panelOption","zIndex","position","preventDefault","stopPropagation","show","clientX","clientY","hide","destroy","remove","super","items","addChildren","ul","dataset","lv","oncontextmenu","push","scrollX","scrollY","childItem","menus","querySelectorAll","menu","panelStyle","contextMenuStyle","ContextMenu","injectCss","hideMenuEventListener","Object","assign","fixMenuWhenScroll","hideMenuWhenScroll","scrollListener","innerHTML","head","clickEventFunc","storeMenus","some","hideAllMenu","capture","create","mainMenu","body","showMenu","i","length","filter","Boolean"],"mappings":"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"}