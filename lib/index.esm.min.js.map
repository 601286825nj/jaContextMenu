{"version":3,"file":"index.esm.min.js","sources":["../src/utils/h.ts","../src/config.js","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/Menu.ts","../src/style.ts","../src/ContextMenu.ts"],"sourcesContent":[null,"export default {\n  cssId: 'ja-contextmenu-css',\n  panelClassName: 'ja-panel',\n  wrapperClassName: 'ja-contextmenu',\n  defaultMenuWidth: 200,\n  // childMenuWidth: 150, // 自动继承父菜单宽度\n  menuItemHeight: 24,\n  menuItemDivideLineMargin: 5, // type == 'divide'\n  baseZIndex: 1000, // 基准z-index\n};\n",null,null,null,null,null,null],"names":["h","tag","attrs","children","id","match","classArr","map","it","substring","elem","document","createElement","Array","isArray","attr","key","concat","textContent","String","classList","add","forEach","child","HTMLElement","appendChild","console","error","config","_storeWindowSize","getWindowSize","html","querySelector","ss","htmlEl","scrollWidth","window","innerWidth","clientWidth","scrollHeight","innerHeight","clientHeight","dealBastAttr","data","payload","addEventListener","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","liClassList","liDisabled","disabled","push","className","class","onclick","e","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","icon","src","customItem","label","tip","panelOption","width","childMenu","Menu","childMenuEle","target","contains","style","display","show","calcPosition","childMenuHeight","parseFloat","getComputedStyle","height","liPosition","getBoundingClientRect","translateX","translateY","windowSize","x","y","transform","_a","removeChildMenus","_b","removeItemHover","Panel","createEl","addEvnetListener","zIndex","position","preventDefault","stopPropagation","MouseEvent","hide","destroy","remove","menuOption","super","createUl","ul","dataset","lv","oncontextmenu","updateMenuAttr","renderMenuItem","items","menuItemEl","lastChild","removeAllHover","scrollX","scrollY","childItem","querySelectorAll","menu","panelStyle","contextMenuStyle","ContextMenu","option","storeMenus","injectCss","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","titleTag","innerHTML","head","insertBefore","nextElementSibling","clickEventFunc","some","hideAllMenu","capture","create","mainMenu","body","showMenu","i","length","filter","Boolean"],"mappings":"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"}