{"version":3,"file":"index.esm.min.js","sources":["../src/utils/h.ts","../src/config.js","../src/utils/utils.ts","../src/MenuItem.ts","../src/Panel.ts","../src/Menu.ts","../src/style.ts","../src/ContextMenu.ts"],"sourcesContent":[null,"export default {\n  cssId: 'ja-contextmenu-css',\n  panelClassName: 'ja-panel',\n  wrapperClassName: 'ja-contextmenu',\n  defaultMenuWidth: 200,\n  // childMenuWidth: 150, // 自动继承父菜单宽度\n  menuItemHeight: 24,\n  menuItemDivideLineMargin: 5, // type == 'divide'\n  baseZIndex: 1000, // 基准z-index\n};\n",null,null,null,null,null,null],"names":["h","tag","attrs","children","id","match","let","classArr","map","it","substring","elem","document","createElement","Array","isArray","attr","key","concat","textContent","String","classList","add","forEach","child","HTMLElement","appendChild","console","error","config","cssId","panelClassName","wrapperClassName","defaultMenuWidth","menuItemHeight","menuItemDivideLineMargin","baseZIndex","_storeWindowSize","getWindowSize","html","querySelector","ss","htmlEl","scrollWidth","window","innerWidth","clientWidth","scrollHeight","innerHeight","clientHeight","addEventListener","log","MenuItem","constructor","level","item","parentMenu","this","itemOption","init","type","el","disabled","onclick","e","payload","closeAllMenus","onmouseenter","showChildMenu","hideOtherChildMenu","icon","src","customItem","label","tip","width","childMenu","Menu","childMenuEle","target","contains","style","display","calcPosition","removeAllHover","childMenuHeight","parseFloat","getComputedStyle","height","liPosition","getBoundingClientRect","translateX","translateY","windowSize","x","y","removeChildMenus","transform","_a","_b","removeItemHover","Panel","option","panelOption","zIndex","position","preventDefault","stopPropagation","show","MouseEvent","hide","destroy","remove","super","items","renderMenuItem","ul","dataset","lv","oncontextmenu","menuItemEl","lastChild","push","scrollX","scrollY","childItem","querySelectorAll","menu","panelStyle","contextMenuStyle","ContextMenu","storeMenus","injectCss","hideMenuEventListener","defaultConfig","fixMenuWhenScroll","hideMenuWhenScroll","contextMenuOption","Object","assign","scrollListener","titleTag","innerHTML","head","insertBefore","nextElementSibling","clickEventFunc","some","hideAllMenu","capture","create","mainMenu","body","showMenu","i","length","filter","Boolean"],"mappings":"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"}